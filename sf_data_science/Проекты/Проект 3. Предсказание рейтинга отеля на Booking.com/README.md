# Проект 3. Предсказание рейтинга отеля на Booking.com

skillfactory_rds

Python 3.9.7

## Оглавление

[1.Описание проекта](https://github.com/PavelNovikov888/sf_data_science/tree/main/sf_data_science/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%203.%20%D0%9F%D1%80%D0%B5%D0%B4%D1%81%D0%BA%D0%B0%D0%B7%D0%B0%D0%BD%D0%B8%D0%B5%20%D1%80%D0%B5%D0%B9%D1%82%D0%B8%D0%BD%D0%B3%D0%B0%20%D0%BE%D1%82%D0%B5%D0%BB%D1%8F%20%D0%BD%D0%B0%20Booking.com#%D0%BE%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0)

[2.Какой кейс решаем?](https://github.com/PavelNovikov888/sf_data_science/tree/main/sf_data_science/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%203.%20%D0%9F%D1%80%D0%B5%D0%B4%D1%81%D0%BA%D0%B0%D0%B7%D0%B0%D0%BD%D0%B8%D0%B5%20%D1%80%D0%B5%D0%B9%D1%82%D0%B8%D0%BD%D0%B3%D0%B0%20%D0%BE%D1%82%D0%B5%D0%BB%D1%8F%20%D0%BD%D0%B0%20Booking.com#%D0%BA%D0%B0%D0%BA%D0%BE%D0%B9-%D0%BA%D0%B5%D0%B9%D1%81-%D1%80%D0%B5%D1%88%D0%B0%D0%B5%D0%BC)

[3.Краткая информация о данных](https://github.com/PavelNovikov888/sf_data_science/tree/main/sf_data_science/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%203.%20%D0%9F%D1%80%D0%B5%D0%B4%D1%81%D0%BA%D0%B0%D0%B7%D0%B0%D0%BD%D0%B8%D0%B5%20%D1%80%D0%B5%D0%B9%D1%82%D0%B8%D0%BD%D0%B3%D0%B0%20%D0%BE%D1%82%D0%B5%D0%BB%D1%8F%20%D0%BD%D0%B0%20Booking.com#%D0%BA%D1%80%D0%B0%D1%82%D0%BA%D0%B0%D1%8F-%D0%B8%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D1%8F-%D0%BE-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85)

[4.Этапы работы над проектом](https://github.com/PavelNovikov888/sf_data_science/tree/main/sf_data_science/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%203.%20%D0%9F%D1%80%D0%B5%D0%B4%D1%81%D0%BA%D0%B0%D0%B7%D0%B0%D0%BD%D0%B8%D0%B5%20%D1%80%D0%B5%D0%B9%D1%82%D0%B8%D0%BD%D0%B3%D0%B0%20%D0%BE%D1%82%D0%B5%D0%BB%D1%8F%20%D0%BD%D0%B0%20Booking.com#%D1%8D%D1%82%D0%B0%D0%BF%D1%8B-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-%D0%BD%D0%B0%D0%B4-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%BE%D0%BC) 

[5.Результат](https://github.com/PavelNovikov888/sf_data_science/tree/main/sf_data_science/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%203.%20%D0%9F%D1%80%D0%B5%D0%B4%D1%81%D0%BA%D0%B0%D0%B7%D0%B0%D0%BD%D0%B8%D0%B5%20%D1%80%D0%B5%D0%B9%D1%82%D0%B8%D0%BD%D0%B3%D0%B0%20%D0%BE%D1%82%D0%B5%D0%BB%D1%8F%20%D0%BD%D0%B0%20Booking.com#%D1%80%D0%B5%D0%B7%D1%83%D0%BB%D1%8C%D1%82%D0%B0%D1%82)

[6.Выводы](https://github.com/PavelNovikov888/sf_data_science/tree/main/sf_data_science/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%203.%20%D0%9F%D1%80%D0%B5%D0%B4%D1%81%D0%BA%D0%B0%D0%B7%D0%B0%D0%BD%D0%B8%D0%B5%20%D1%80%D0%B5%D0%B9%D1%82%D0%B8%D0%BD%D0%B3%D0%B0%20%D0%BE%D1%82%D0%B5%D0%BB%D1%8F%20%D0%BD%D0%B0%20Booking.com#%D0%B2%D1%8B%D0%B2%D0%BE%D0%B4%D1%8B)


### Описание проекта
Представьте, что вы работаете дата-сайентистом в компании Booking. 
Одна из проблем компании — это нечестные отели, которые накручивают себе рейтинг. 
Одним из способов обнаружения таких отелей является построение модели, которая предсказывает рейтинг отеля. 
Если предсказания модели сильно отличаются от фактического результата, то, возможно, отель ведёт себя нечестно, и его стоит проверить.

Вам поставлена задача создать такую модель.
Соревнования моделей проводятся на платформе [Kaggle.com](https://www.kaggle.com/competitions/sf-booking) 

:arrow_up: [к оглавлению](https://github.com/PavelNovikov888/sf_data_science/blob/main/sf_data_science/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%203.%20%D0%9F%D1%80%D0%B5%D0%B4%D1%81%D0%BA%D0%B0%D0%B7%D0%B0%D0%BD%D0%B8%D0%B5%20%D1%80%D0%B5%D0%B9%D1%82%D0%B8%D0%BD%D0%B3%D0%B0%20%D0%BE%D1%82%D0%B5%D0%BB%D1%8F%20%D0%BD%D0%B0%20Booking.com/README.md#%D0%BE%D0%B3%D0%BB%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5)


### Какой кейс решаем?
 В этом проекте мы работаем с датасетом, в котором содержатся сведения о 515 000 отзывов на отели Европы. Модель, которую мы обучаем, должна предсказывать рейтинг отеля по данным сайта Booking на основе имеющихся в датасете данных. Изученные нами навыки разведывательного анализа помогут улучшить модель.

*Этапы выполнения проекта:*

Прежде чем построить предсказательную модель, данные необходимо преобразовать, исследовать и очистить.

*Метрика качества*

Для оценки качества модели — точности прогнозов, сделанных моделью, — мы будем использовать метрику, которая называется MAPE (mean absolute percentage error), средняя абсолютная процентная ошибка. Эту метрику очень легко интерпретировать. Если у нас MAPE = 11.4 %, то это говорит о том, что ошибка составила 11.4 % от фактических значений.

*Что практикуем*

✔️ создадаем свою первую модель, основанную на алгоритмах машинного обучения;

✔️ принимаем участие в соревновании на Kaggle;

✔️ понимаем, как правильно «подготовить» данные, чтобы ваша модель работала лучше.

### Краткая информация о данных

1. Данные для данного проекта находятся на платформе kaggle.com 
  - Название файлов: 
    - hotels_train.csv - набор данных для обучения
    - hotels_test.csv - набор данных для оценки качества
    - submission.csv - файл сабмишна в нужном формате
  - Разделитель: sep=','
  - [Ссылка на данные](https://www.kaggle.com/competitions/sf-booking/data)

2. Ноутбук с решением 
  - Название файла: hotels-score-pred(1).ipynb
  - [Ссылка на файл](https://github.com/PavelNovikov888/sf_data_science/blob/main/sf_data_science/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%203.%20%D0%9F%D1%80%D0%B5%D0%B4%D1%81%D0%BA%D0%B0%D0%B7%D0%B0%D0%BD%D0%B8%D0%B5%20%D1%80%D0%B5%D0%B9%D1%82%D0%B8%D0%BD%D0%B3%D0%B0%20%D0%BE%D1%82%D0%B5%D0%BB%D1%8F%20%D0%BD%D0%B0%20Booking.com/hotels-score-pred(1).ipynb)

3. Данные об окружении для воспроизводимости кода
  - Название файла: requirements.txt
  - [Ссылка на файл](https://github.com/PavelNovikov888/sf_data_science/blob/main/sf_data_science/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%8B/%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82%203.%20%D0%9F%D1%80%D0%B5%D0%B4%D1%81%D0%BA%D0%B0%D0%B7%D0%B0%D0%BD%D0%B8%D0%B5%20%D1%80%D0%B5%D0%B9%D1%82%D0%B8%D0%BD%D0%B3%D0%B0%20%D0%BE%D1%82%D0%B5%D0%BB%D1%8F%20%D0%BD%D0%B0%20Booking.com/requirements.txt)
  
4. [Cсылка на решение на платформе kaggle](https://www.kaggle.com/code/pavelnovikov888/hotels-score-pred?scriptVersionId=101456781)

### Этапы работы над проектом

Наш проект будет состоять из четырёх этапов:
1. Подготовка данных(EDA):
  - очистка от выбросов(удаление, нормализация), 
  - очистка от пропущенных значений(замена на моду, медиану или среднее),
  - удаление неинформативных признаков,
  - удаление дубликатов.
2. Преобразование данных:
  - удаление или преобразование строковых данных(создание новых признаков из существующих данных или с помощью привлечения внешних источников)
  - нормализация(методы библиотеки skylearn.preprocessing)
  - стандартизация числовых признаков(метод RobustScaler)
3. Разведывательный анализ, отбор признаков:
  - анализ мультиколлинеарности(метод Пирсона для числовых признаков и метод Мэтьюса т.к. он может быть полезен в случае, когда в датасете представлены бинарные переменные)
  - анализ значимости признаков(для категориальных признаков будем использовать тест хи-квадрат, для непрерывных признаков — тест ANOVA).
4. Создание и тестирование предсказывающей модели. В качестве алгоритма мы будем использовать популярный и довольно мощный алгоритм RandomForestRegressor. Он реализован в библиотеке sklearn.

### Результат

Получил значение MAPE 22.43666, получил первую бронзовую медаль за соревнование на платформе Kaggle

Практически применил полученные в ходе обучения знания по исследованию, визуализации, очистке и преобразованию данных.

Попрактиковался в написании кода. Получил практический опыт правильного оформления результатов соревнования на платформе kaggle.

Освоил инструментарий программы VS CODE в части создания программ, написания текстовых файлов, выгрузки изменений на GitHub, обеспечения воспроизводимости кода.

Получил опыт разработки проекта в условиях ограниченного времени.

Наладил взаимодействие с менторами.

### Выводы
Четкое следование правилам работы с данными и в то же время использование творческого подхода при преобразовании признаков помогают достичь высоких цифр предсказания данных.
